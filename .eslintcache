[{"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\index.js":"1","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\App.js":"2","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\reportWebVitals.js":"3","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\HomePage.js":"4","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\ShipDrag.js":"5","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\GameBoard.js":"6","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\Header.js":"7","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\Winner.js":"8","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\battleStart.js":"9","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\GameController.js":"10"},{"size":520,"mtime":1613948237320,"results":"11","hashOfConfig":"12"},{"size":1169,"mtime":1618015031547,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"12"},{"size":841,"mtime":1615086694069,"results":"15","hashOfConfig":"12"},{"size":7718,"mtime":1618013205966,"results":"16","hashOfConfig":"12"},{"size":7962,"mtime":1618016903960,"results":"17","hashOfConfig":"12"},{"size":0,"mtime":1614300464303,"results":"18","hashOfConfig":"12"},{"size":772,"mtime":1615716145401,"results":"19","hashOfConfig":"12"},{"size":16943,"mtime":1618109507758,"results":"20","hashOfConfig":"12"},{"size":7048,"mtime":1618012203689,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"3cze",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"24"},"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\index.js",[],["48","49"],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\App.js",["50"],"import {useState} from \"react\"\nimport HomePage from \"./HomePage\"\nimport GameController from \"./GameController\"\nimport logo from \"./assets/images/bs_logo.png\"\nimport music from \"./assets/sounds/music.mp3\"\nimport backgroundMusic from \"./assets/sounds/background_sound.mp3\"\n\nfunction App() {\n  const [player,setPlayer]=useState(\"\")\n  const [gameStart,setGameStart]=useState(false)\n  const [battleStart,setBattleStart]=useState(false)\n  return (\n        <div className=\"bg-dark\" >\n          {player&&!battleStart&&<audio autoPlay src={music}></audio>}\n          {battleStart&&<audio autoPlay onEnded={(e)=>e.target.play()} src={backgroundMusic}></audio>}\n          <header className=\"container-fluid bg-dark text-center text-white p-3\">\n              <img className={gameStart?`smallLogo`:\"bigLogo\"} src={logo} alt=\"\"/>\n          </header>\n          {!gameStart ?\n          <HomePage setPlayer={setPlayer} setGameStart={setGameStart} player={player} />:\n          <GameController  setGameStart={setGameStart} setBattleStart={setBattleStart} player={player} battleStart={battleStart} setBattleStart={setBattleStart} />}\n          </div>\n        \n  );\n}\n\nexport default App;\n","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\reportWebVitals.js",[],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\HomePage.js",[],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\ShipDrag.js",["51","52","53","54"],"import { useEffect,useState } from \"react\"\r\n\r\n\r\n\r\nconst Ships=({ setElDrag,initialCells,ships,setShips,setBattleStart,IACells,setIACells,setPlayerCells,playerCells})=>{\r\n    const [IACellShip,setIACellShip]=useState([])\r\n    const [playerRandomShip,setPlayerRandomShip]=useState([])\r\n    const [activeRandom,setActiveRandom]=useState(false)\r\n    const handleDrag=(e)=>{\r\n        setElDrag(e.target.id)\r\n        e.dataTransfer.setDragImage(e.target, 0, 0);\r\n    }\r\n    const handleDragEnd=()=>{\r\n        setElDrag(null)\r\n    } \r\n    const checkCollisions=(locationArray)=>{\r\n        const collisions = [9, 19, 29, 39, 49, 59, 69, 79, 89];\r\n        if(!activeRandom){\r\n            if (locationArray.some((loc) => !IACells[loc])) {\r\n                return false;\r\n            }else if (locationArray.some((loc) => IACells[loc].hasShip)) {\r\n                return false;\r\n            }else if(\r\n                collisions.some((num) => {\r\n                return [num, num + 1].every((combination) =>\r\n                    locationArray.includes(combination)\r\n                ); \r\n            })\r\n            ) {\r\n                return false;\r\n            }else{\r\n                return true;\r\n            }\r\n        }else{\r\n            if (locationArray.some((loc) => !playerCells[loc])) {\r\n                return false;\r\n            }else if (locationArray.some((loc) => playerCells[loc].hasShip)) {\r\n                return false;\r\n            }else if(\r\n                collisions.some((num) => {\r\n                return [num, num + 1].every((combination) =>\r\n                    locationArray.includes(combination)\r\n                );\r\n            })\r\n            ) {\r\n                return false;\r\n            }else{\r\n                return true;\r\n            }\r\n        }\r\n    } \r\n    const randomShips=(shipLength,player)=>{\r\n        let dir=[\"row\",\"col\"][Math.floor(Math.random()*2)]\r\n        let possLoc=[]\r\n        for (let i = 0; i < 100; i++) {\r\n            let locationArray=[];\r\n            if(dir===\"row\"){\r\n                for (let count = 0; count < shipLength; count++) {\r\n                    locationArray.push(i+count)\r\n                }\r\n            }else{\r\n                for (let count = 0; count < shipLength; count++) {\r\n                    locationArray.push(i+count*10)  \r\n                }\r\n            }\r\n            if (checkCollisions(locationArray,player)) {\r\n                possLoc.push(locationArray);\r\n            }\r\n        }\r\n        return possLoc[\r\n            Math.floor(Math.random() * possLoc.length)\r\n        ];\r\n       \r\n    }  \r\n  \r\n    useEffect(()=>{\r\n            if(IACellShip.length===0){\r\n               setIACellShip([...IACellShip,randomShips(2)])\r\n            }else if(IACellShip.length===1){\r\n                setIACellShip([...IACellShip,randomShips(3,\"IA\")])\r\n                \r\n            } else if(IACellShip.length===2){\r\n                setIACellShip([...IACellShip,randomShips(4,\"IA\")])\r\n               \r\n            }else if(IACellShip.length===3){\r\n                setIACellShip([...IACellShip,randomShips(5,\"IA\")])\r\n            }\r\n        \r\n    },[IACells])\r\n    useEffect(()=>{\r\n        if(IACellShip.length===1){\r\n            setIACells(IACells.map((el,i)=>{\r\n                if(i===IACellShip[0][0] ||i===IACellShip[0][1]){\r\n                return {...el,hasShip:true,type:\"patrol\"} \r\n                }else{\r\n                return el\r\n                }}))\r\n        }else if(IACellShip.length===2){\r\n            setIACells(IACells.map((el,i)=>{\r\n                if(i===IACellShip[1][0]||i===IACellShip[1][1]||i===IACellShip[1][2]){\r\n                    return {...el,hasShip:true,type:\"destroyer\"}\r\n                }else{\r\n                return el\r\n                }}))\r\n        }else if(IACellShip.length===3){\r\n            setIACells(IACells.map((el,i)=>{\r\n                if(i===IACellShip[2][0]||i===IACellShip[2][1]||i===IACellShip[2][2]||i===IACellShip[2][3]){\r\n                    return {...el,hasShip:true,type:\"submarine\"}\r\n                }else{\r\n                return el\r\n                }}))\r\n        }else if(IACellShip.length===4){\r\n            setIACells(IACells.map((el,i)=>{\r\n                if(i===IACellShip[3][0]||i===IACellShip[3][1]||i===IACellShip[3][2]||i===IACellShip[3][3]||i===IACellShip[3][4]){\r\n                    return {...el,hasShip:true,type:\"carrier\"}\r\n                }else{\r\n                return el\r\n                }}))\r\n        }\r\n    },[IACellShip])\r\n\r\n    useEffect(()=>{\r\n        if(activeRandom){\r\n            if(playerRandomShip.length===0){\r\n            setPlayerRandomShip([...playerRandomShip,randomShips(2)])\r\n            }else if(playerRandomShip.length===1){\r\n                setPlayerRandomShip([...playerRandomShip,randomShips(3)])\r\n                \r\n            } else if(playerRandomShip.length===2){\r\n                setPlayerRandomShip([...playerRandomShip,randomShips(4)])\r\n            \r\n            }else if(playerRandomShip.length===3){\r\n                setPlayerRandomShip([...playerRandomShip,randomShips(5)])\r\n            }\r\n        }\r\n    },[playerCells,activeRandom])\r\nuseEffect(()=>{\r\n    if(playerRandomShip.length===1){\r\n        setPlayerCells(playerCells.map((el,i)=>{\r\n            if(i===playerRandomShip[0][0] ||i===playerRandomShip[0][1]){\r\n            return {...el,hasShip:true,type:\"patrol\"} \r\n            }else{\r\n            return el\r\n            }}))\r\n    }else if(playerRandomShip.length===2){\r\n        setPlayerCells(playerCells.map((el,i)=>{\r\n            if(i===playerRandomShip[1][0]||i===playerRandomShip[1][1]||i===playerRandomShip[1][2]){\r\n                return {...el,hasShip:true,type:\"destroyer\"}\r\n            }else{\r\n            return el\r\n            }}))\r\n    }else if(playerRandomShip.length===3){\r\n        setPlayerCells(playerCells.map((el,i)=>{\r\n            if(i===playerRandomShip[2][0]||i===playerRandomShip[2][1]||i===playerRandomShip[2][2]||i===playerRandomShip[2][3]){\r\n                return {...el,hasShip:true,type:\"submarine\"}\r\n            }else{\r\n            return el\r\n            }}))\r\n    }else if(playerRandomShip.length===4){\r\n        setPlayerCells(playerCells.map((el,i)=>{\r\n            if(i===playerRandomShip[3][0]||i===playerRandomShip[3][1]||i===playerRandomShip[3][2]||i===playerRandomShip[3][3]||i===playerRandomShip[3][4]){\r\n                return {...el,hasShip:true,type:\"carrier\"}\r\n            }else{\r\n            return el\r\n            }}))\r\n    }\r\n},[playerRandomShip])\r\n    \r\n    const handleClick=()=>{\r\n        setPlayerCells(playerCells.map(el=>(el.notAllowed===true ?{...el,notAllowed:false}:el)));setBattleStart(true);\r\n    } \r\n    const handleRandom=()=>{\r\n        setPlayerCells(initialCells)\r\n        setActiveRandom(true)\r\n        setShips([])\r\n\r\n    }\r\n    const handleDragClick=(e)=>{\r\n        setElDrag(e.target.id)\r\n    } \r\n    return(\r\n        <div  className=\"img\">\r\n            {!activeRandom&&<div className=\"text-center \">\r\n                <button onClick={handleRandom} className=\"btn btn-lg  mt-2 cos-shadow btn-outline-warning\">Random position 🚢 </button>\r\n            </div>}\r\n            {ships.map((el)=>(\r\n                <div className=\"container shipImg\" key={el.id}>\r\n                    <img   className=\"mt-3  float-shadow\" id={`${el.id}`} src={el.type} onClick={handleDragClick} onDragStartCapture={handleDrag} onDragEndCapture={handleDragEnd} alt=\"A carrier\" />\r\n                </div>)\r\n            )}\r\n            {ships.length===0 &&\r\n            <div className=\"text-center mt-5\">\r\n                <button onClick={handleClick} className=\"btn btn-lg cos-shadow btn-outline-warning\">Start  Battle 💣  </button>\r\n\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Ships;","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\GameBoard.js",["55"],"import { useEffect,useState} from \"react\"\r\n\r\nconst GameBoard=({setElDrag,elDrag,cells,setCells,dir,setShips,ships,battleStart,player,handleShot})=>{\r\n            //Drag Site\r\n    const [displayEffect,setDisplayEffect]=useState(false)\r\n    const handleDragEnter=(e)=>{\r\n        e.preventDefault()\r\n    }  \r\n    const handleDragOver=(e,index)=>{\r\n        e.preventDefault()\r\n        let allCells=e.target.parentElement.children;\r\n        for (let i = 0; i < allCells.length; i++) {\r\n            if(elDrag===\"carrier\"){\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i||index+3===i||index+4===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i||index+30===i||index+40===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"submarine\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i||index+3===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i||index+30===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"destroyer\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"patrol\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i){\r\n                        allCells[i].style.background=\"green\"\r\n                    }\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n    const handleDragLeave=(e,index)=>{\r\n        e.preventDefault()\r\n        let allCells=e.target.parentElement.children;\r\n        for (let i = 0; i < allCells.length; i++) {\r\n            if(elDrag===\"carrier\"){\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i||index+3===i||index+4===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i||index+30===i||index+40===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"submarine\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i||index+3===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i||index+30===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"destroyer\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i||index+2===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i||index+20===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }\r\n            }else if(elDrag===\"patrol\") {\r\n                if(dir===\"row\"){\r\n                    if(index===i||index+1===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }else{\r\n                    if(index===i||index+10===i){\r\n                        allCells[i].style.background=\"#212529\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const handleDrop=(e,key)=>{\r\n        e.preventDefault()\r\n        setCells(cells.map((el,i)=>(\r\n           dir===\"row\" ? \r\n           elDrag===\"carrier\"? i===key||i===key+1||i===key+2||i===key+3||i===key+4 ? {...el,hasShip:true,type:\"carrier\"} : el :\r\n           elDrag===\"submarine\" ? i===key||i===key+1||i===key+2||i===key+3 ? {...el,hasShip:true,type:\"submarine\"} : el :\r\n           elDrag===\"destroyer\" ? i===key||i===key+1||i===key+2 ? {...el,hasShip:true,type:\"destroyer\"} : el :\r\n           elDrag===\"patrol\" ? i===key||i===key+1 ? {...el,hasShip:true,type:\"patrol\"} : el :el :\r\n\r\n           elDrag===\"carrier\"? i===key||i===key+10||i===key+20||i===key+30||i===key+40 ? {...el,hasShip:true,type:\"carrier\"} : el :\r\n           elDrag===\"submarine\" ? i===key||i===key+10||i===key+20||i===key+30 ? {...el,hasShip:true,type:\"submarine\"} : el :\r\n           elDrag===\"destroyer\" ? i===key||i===key+10||i===key+20 ? {...el,hasShip:true,type:\"destroyer\"} : el :\r\n           elDrag===\"patrol\" ? i===key||i===key+10 ? {...el,hasShip:true,type:\"patrol\"} : el :el \r\n        )))\r\n        \r\n        setShips(ships.map((el)=>(\r\n            el.id===`${elDrag}` ? {...el,quantity:el.quantity-1} :el\r\n        )))\r\n        setDisplayEffect(true)\r\n        setElDrag(null)\r\n\r\n    }\r\n    useEffect(()=>{\r\n        if(displayEffect){\r\n            setShips(ships.filter((el)=>(\r\n                el.quantity!==0 && el \r\n            )))\r\n            setDisplayEffect(false)\r\n        }        \r\n    },[ships])\r\n            \r\n    return(\r\n        <div className=\"gridCont\">\r\n            <div style={{boxShadow:\"1px 1px 10px black\"}} className=\"boardGrid text-center text-white\">\r\n                {!battleStart?cells.map((el,i)=>(\r\n                   el.hasShip||el.notAllowed?<div  key={i} style={{border:`${el.hasShip &&\"1px solid red\"}`,background:`${el.hasShip &&\"black\"}`,}}   className=\"cell mb-5\"/>:\r\n                   <div key={i} onDragEnterCapture={handleDragEnter} onDragLeaveCapture={(e)=>handleDragLeave(e,i)} onMouseLeave={(e)=>handleDragLeave(e,i)}  onMouseOver={(e)=>handleDragOver(e,i)} onDragOverCapture={(e)=>handleDragOver(e,i)} onClick={(e)=> handleDrop(e,i)} onDropCapture={(e)=> handleDrop(e,i)}  className=\"cell mb-5\"/>\r\n                )):\r\n                player===\"human\"?\r\n                cells.map((el,i)=>(\r\n                    !el.notAllowed&&!el.isShot?<div key={i} style={{border:`${el.hasShip &&\"1px solid red\"}`,background:`${el.hasShip &&\"black\"}`}} className=\"cell  mb-5\"/>\r\n                    :<div key={i} style={{border:`${el.hasShip&&!el.isSunk ?\"1px solid red\":el.isSunk&&\"1px solid grey\"}`,background:`${el.hasShip &&\"black\"}`}} className={`cell ${el.isShot&&!el.isSunk ?\"buzz-out\":el.isSunk &&\"wobble-skew\"} text-white text-center mb-5`}><h6>{el.notAllowed ? \"Miss\":!el.isSunk&&el.isShot&&\"Boom\"}</h6><h4 className=\"text-danger\">{el.isSunk&&\"X\"}</h4></div>\r\n                 )):\r\n                 cells.map((el,i)=>(\r\n                    el.notAllowed===false&&!el.isShot?<div onClick={(e)=> handleShot(i,e)} key={i} style={{cursor:\"crosshair\",background:`${el.isShot &&\"rgb(24, 23, 23)\"}`,border:`${el.isShot &&\"1px solid red\"}`}} className=\"cell battleCell mb-5\"></div> \r\n                    :<div  key={i} style={{cursor:\"no-drop\",background:`${el.isShot&&!el.isSunk ?\"rgb(24, 23, 23)\":el.isSunk &&\"black\"}`,border:`${el.isShot&&!el.isSunk ?\"1px solid red\":el.isSunk&&\"1px solid grey\"}`}} className={`cell  ${el.isShot&&!el.isSunk ?\"buzz-out\":el.isSunk &&\"wobble-skew\"} text-white text-center battleCell mb-5`}><h6>{el.notAllowed ? \"Miss\":!el.isSunk&&el.isShot&&\"Boom\"}</h6><h4 className=\"text-danger\">{el.isSunk&&\"X\"}</h4></div>\r\n                 ))} \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GameBoard;","C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\Header.js",[],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\Winner.js",[],["56","57"],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\components\\battleStart.js",["58","59","60"],"C:\\Users\\Jesús\\Desktop\\ga_site\\Learning\\Learning React\\BattleShip\\src\\GameController.js",["61","62"],"import {useState,useEffect} from \"react\"\r\n\r\nimport Ships from \"./components/ShipDrag\"\r\nimport GameBoard from \"./components/GameBoard\"\r\nimport BattleStart from \"./components/battleStart\"\r\nimport \"./placeShip.css\"\r\n\r\n\r\nimport carrier from \"./assets/images/carrier.png\"\r\nimport destroyer from \"./assets/images/destroyer.png\"\r\nimport patrol from \"./assets/images/patrol.png\"\r\nimport submarine from \"./assets/images/submarine.png\"\r\n\r\nconst initialPlayerBoard=[];\r\nconst initialIABoard=[];\r\n\r\nfor (let i = 0; i < 100; i++) {\r\n    initialPlayerBoard.push({ hasShip: false,type:false,isShot: false,notAllowed:false});\r\n    initialIABoard.push({ hasShip: false,type:false,isShot: false,notAllowed:false});\r\n}\r\nconst initialShips=[\r\n    {\r\n     quantity:1,\r\n     type:carrier,\r\n     id:\"carrier\"\r\n    },\r\n    {\r\n        quantity:1,\r\n        type:submarine,\r\n        id:\"submarine\"\r\n    },\r\n    {\r\n        quantity:1,\r\n        type:destroyer,\r\n        id:\"destroyer\"\r\n    },\r\n    {\r\n        quantity:1,\r\n        type:patrol,\r\n        id:\"patrol\"\r\n    },\r\n]\r\n\r\n\r\nconst PlaceShip=({setBattleStart,battleStart,player,setGameStart})=>{\r\n        const [elDrag,setElDrag]=useState(null)\r\n        const [playerCells,setPlayerCells]=useState(initialPlayerBoard)\r\n        const [IACells,setIACells]=useState(initialIABoard)\r\n        const [dir,setDir]=useState(\"row\")\r\n        const [ships,setShips]=useState(initialShips)\r\n\r\n        \r\n\r\n        useEffect(()=>{\r\n            if(elDrag==null) return\r\n            let count=0;\r\n            let index=0;\r\n            setPlayerCells(playerCells.map((el,i)=>{\r\n                count++\r\n                index++\r\n               if(elDrag===\"carrier\"){\r\n                   if(dir===\"row\"){\r\n                        if(index===95) index=0\r\n                        if((count>6&&count<11)||playerCells[index+3].hasShip===true||playerCells[index+2].hasShip===true||playerCells[index+1].hasShip===true){\r\n                            if(count===10) count=0 \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                   }else{\r\n                        if(index===59) index=0\r\n                        if((count>59)||playerCells[index+39].hasShip===true||playerCells[index+29].hasShip===true||playerCells[index+19].hasShip===true||playerCells[index+9].hasShip===true){ \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                   }\r\n                }else if(elDrag===\"submarine\"){\r\n                    if(dir===\"row\"){\r\n                        if(index===96) index=0\r\n                        if((count>7&&count<11)||playerCells[index+2].hasShip===true||playerCells[index+1].hasShip===true){\r\n                            if(count===10) count=0 \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                    }else{\r\n                        if(index===69) index=0\r\n                        if((count>69)||playerCells[index+29].hasShip===true||playerCells[index+19].hasShip===true||playerCells[index+9].hasShip===true){ \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                    }\r\n                \r\n               }else if(elDrag===\"destroyer\") {\r\n                   if(dir===\"row\"){\r\n                        if(index===97) index=0\r\n                        if((count>8&&count<11)||playerCells[index+1].hasShip===true){\r\n                            if(count===10) count=0 \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                   }else{\r\n                        if(index===79) index=0\r\n                        if((count>79)||playerCells[index+19].hasShip===true||playerCells[index+9].hasShip===true){ \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                   }\r\n                \r\n               }else if(elDrag===\"patrol\") {\r\n                   if(dir===\"row\"){\r\n                        if(index===98) index=0\r\n                        if((count>=10&&count<11)||playerCells[index].hasShip===true){\r\n                            if(count===10) count=0 \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }  \r\n                   }else{\r\n                        if(index===89) index=0\r\n                        if((count>89)||playerCells[index+9].hasShip===true){ \r\n                            return {...el,notAllowed:true}\r\n                        }else{\r\n                            return {...el,notAllowed:false}\r\n                        }\r\n                   }\r\n               }\r\n            }))\r\n        },[elDrag])\r\n       \r\n        return(\r\n            <div>\r\n            {!battleStart ?<div className=\"row text-white\">\r\n                <div className=\"col-lg-6\">\r\n                    <h3 className=\"text-white text-center mt-5\">Drag your ships to the board</h3>\r\n                    <div className=\"container\">\r\n                            <Ships initialCells={initialPlayerBoard}  initialShips={initialShips} IACells={IACells} setIACells={setIACells} playerCells={playerCells} setPlayerCells={setPlayerCells} setBattleStart={setBattleStart} setShips={setShips} ships={ships} carrier={carrier} submarine={submarine} destroyer={destroyer} patrol={patrol} setElDrag={setElDrag} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-6 mt-5\">\r\n                        <h3 className=\"text-white text-center\">GameBoard <button  onClick={()=>setDir(dir===\"row\" ? \"Column\" : \"row\")} className=\"btn cos-shadow btn-outline-warning text-center\">Change to {dir===\"row\" ? \"Columns\": \"Rows\"}</button></h3>\r\n                        <GameBoard setElDrag={setElDrag} setShips={setShips} ships={ships} dir={dir} cells={playerCells} setCells={setPlayerCells} elDrag={elDrag}  />\r\n                        \r\n                 </div>\r\n            \r\n            </div>:\r\n             <BattleStart submarine={submarine} patrol={patrol} destroyer={destroyer} carrier={carrier} setGameStart={setGameStart} setBattleStart={setBattleStart} elDrag={elDrag} dir={dir} ships={ships} setShips={setShips} battleStart={battleStart} player={player} IACells={IACells} playerCells={playerCells} setPlayerCells={setPlayerCells} setIACells={setIACells} />\r\n            \r\n            }\r\n            </div>\r\n        )\r\n        \r\n}\r\n\r\n\r\n\r\nexport default PlaceShip;",{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":21,"column":130,"nodeType":"69","endLine":21,"endColumn":161},{"ruleId":"70","severity":1,"message":"71","line":89,"column":7,"nodeType":"72","endLine":89,"endColumn":16,"suggestions":"73"},{"ruleId":"70","severity":1,"message":"74","line":120,"column":7,"nodeType":"72","endLine":120,"endColumn":19,"suggestions":"75"},{"ruleId":"70","severity":1,"message":"76","line":136,"column":7,"nodeType":"72","endLine":136,"endColumn":33,"suggestions":"77"},{"ruleId":"70","severity":1,"message":"78","line":167,"column":3,"nodeType":"72","endLine":167,"endColumn":21,"suggestions":"79"},{"ruleId":"70","severity":1,"message":"80","line":133,"column":7,"nodeType":"72","endLine":133,"endColumn":14,"suggestions":"81"},{"ruleId":"63","replacedBy":"82"},{"ruleId":"65","replacedBy":"83"},{"ruleId":"70","severity":1,"message":"84","line":199,"column":3,"nodeType":"72","endLine":199,"endColumn":16,"suggestions":"85"},{"ruleId":"70","severity":1,"message":"86","line":256,"column":3,"nodeType":"72","endLine":256,"endColumn":12,"suggestions":"87"},{"ruleId":"70","severity":1,"message":"88","line":261,"column":3,"nodeType":"72","endLine":261,"endColumn":42,"suggestions":"89"},{"ruleId":"90","severity":1,"message":"91","line":58,"column":50,"nodeType":"92","messageId":"93","endLine":58,"endColumn":52},{"ruleId":"70","severity":1,"message":"94","line":133,"column":11,"nodeType":"72","endLine":133,"endColumn":19,"suggestions":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'IACellShip' and 'randomShips'. Either include them or remove the dependency array. You can also do a functional update 'setIACellShip(I => ...)' if you only need 'IACellShip' in the 'setIACellShip' call.","ArrayExpression",["98"],"React Hook useEffect has missing dependencies: 'IACells' and 'setIACells'. Either include them or remove the dependency array. If 'setIACells' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["99"],"React Hook useEffect has missing dependencies: 'playerRandomShip' and 'randomShips'. Either include them or remove the dependency array. You can also do a functional update 'setPlayerRandomShip(p => ...)' if you only need 'playerRandomShip' in the 'setPlayerRandomShip' call.",["100"],"React Hook useEffect has missing dependencies: 'playerCells' and 'setPlayerCells'. Either include them or remove the dependency array. If 'setPlayerCells' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["101"],"React Hook useEffect has missing dependencies: 'displayEffect' and 'setShips'. Either include them or remove the dependency array. If 'setShips' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["102"],["96"],["97"],"React Hook useEffect has missing dependencies: 'battleStart', 'playerRemainingShips', 'setPlayerCells', and 'turn'. Either include them or remove the dependency array. If 'setPlayerCells' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["103"],"React Hook useEffect has missing dependencies: 'IARemainingShips', 'battleStart', 'setIACells', and 'turn'. Either include them or remove the dependency array. If 'setIACells' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["104"],"React Hook useEffect has a missing dependency: 'player'. Either include it or remove the dependency array. If 'setWinner' needs the current value of 'player', you can also switch to useReducer instead of useState and read 'player' in the reducer.",["105"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","React Hook useEffect has missing dependencies: 'dir' and 'playerCells'. Either include them or remove the dependency array. You can also do a functional update 'setPlayerCells(p => ...)' if you only need 'playerCells' in the 'setPlayerCells' call.",["106"],"no-global-assign","no-unsafe-negation",{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},{"desc":"113","fix":"114"},{"desc":"115","fix":"116"},{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},{"desc":"121","fix":"122"},{"desc":"123","fix":"124"},"Update the dependencies array to be: [IACellShip, IACells, randomShips]",{"range":"125","text":"126"},"Update the dependencies array to be: [IACellShip, IACells, setIACells]",{"range":"127","text":"128"},"Update the dependencies array to be: [playerCells, activeRandom, playerRandomShip, randomShips]",{"range":"129","text":"130"},"Update the dependencies array to be: [playerCells, playerRandomShip, setPlayerCells]",{"range":"131","text":"132"},"Update the dependencies array to be: [displayEffect, setShips, ships]",{"range":"133","text":"134"},"Update the dependencies array to be: [battleStart, playerCells, playerRemainingShips, setPlayerCells, turn]",{"range":"135","text":"136"},"Update the dependencies array to be: [IACells, IARemainingShips, battleStart, setIACells, turn]",{"range":"137","text":"138"},"Update the dependencies array to be: [IARemainingShips, player, playerRemainingShips]",{"range":"139","text":"140"},"Update the dependencies array to be: [dir, elDrag, playerCells]",{"range":"141","text":"142"},[3108,3117],"[IACellShip, IACells, randomShips]",[4445,4457],"[IACellShip, IACells, setIACells]",[5073,5099],"[playerCells, activeRandom, playerRandomShip, randomShips]",[6443,6461],"[playerCells, playerRandomShip, setPlayerCells]",[5675,5682],"[displayEffect, setShips, ships]",[9655,9668],"[battleStart, playerCells, playerRemainingShips, setPlayerCells, turn]",[11819,11828],"[IACells, IARemainingShips, battleStart, setIACells, turn]",[11962,12001],"[IARemainingShips, player, playerRemainingShips]",[5289,5297],"[dir, elDrag, playerCells]"]